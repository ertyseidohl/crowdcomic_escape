!function(e){var i=function(e,i){this.noCollision=!0;var t=e.coq.entities,r=e.coq.renderer;i.init(this),void 0!==i.player&&t.create(GamePlayer,i.player,function(e){this.player=e,i.playerLight&&t.create(Light,{pos:{x:e.pos.x+e.size.x/2,y:e.pos.y+e.size.y/2},color:"rgba(200,200,255,0.8)"},function(e){this.player.light=e}.bind(this))}.bind(this)),this.draw=function(i){e.GALAXY.debugMode&&(i.fillStyle="#ff6600",i.fillRect(r.viewCenter.x-1,r.viewCenter.y-1,2,2))},this.update=function(){if(void 0!==this.player){var e=r.getViewPort();(r.viewCenter.x<this.player.pos.x&&e.x+e.width<r.worldSize.x||r.viewCenter.x>this.player.pos.x&&e.x>0)&&r.moveViewCenter({x:(this.player.pos.x-r.viewCenter.x)/20,y:0}),(r.viewCenter.y<this.player.pos.y&&e.y+e.height<r.worldSize.y||r.viewCenter.y>this.player.pos.y&&e.y>0)&&r.moveViewCenter({x:0,y:(this.player.pos.y-r.viewCenter.y)/20})}},t.create(GameScreenHUD,i.HUD)};e.GameScreen=i}(this);