!function(exports){var GameOptionBox=function(_,settings){this.visible=!1,this.enabled=!1,this.HUDOptions=[];for(var i in settings)this[i]=settings[i];this.collision=function(other){if(other instanceof GamePlayer){if(void 0!==this.message&&this.enabled===!1){this.enabled=!0,_.setMessage(this.message[0]);for(var j=1;j<this.message.length;j++)_.appendMessage(this.message[j])}else this.enabled===!1&&(this.enabled=!0);this.enabled&&this.callback&&(eval(this.callback),this.callback="")}},this.uncollision=function(s){s instanceof GamePlayer&&(_.setMessage(""),this.enabled=!1)},this.update=function(){if(this.enabled&&!this.visible){this.visible=!0;var s=function(s){this.HUDOptions.push(s)}.bind(this);for(var i in this.HUD)_.coq.entities.create(GameHUDOption,this.HUD[i],s)}else if(!this.enabled&&this.visible){this.visible=!1;for(var t=0;t<this.HUDOptions.length;t++)_.coq.entities.destroy(this.HUDOptions[t]);this.HUDOptions=[]}},this.draw=function(s){_.GALAXY.debugMode&&(s.strokeStyle=this.enabled?"#0000ff":"gray",s.strokeRect(this.pos.x,this.pos.y,this.size.x,this.size.y),s.beginPath(),s.moveTo(this.pos.x,this.pos.y),s.lineTo(this.pos.x+this.size.x,this.pos.y+this.size.y),s.moveTo(this.pos.x+this.size.x,this.pos.y),s.lineTo(this.pos.x,this.pos.y+this.size.y),s.closePath(),s.stroke())}};exports.GameOptionBox=GameOptionBox}(this);