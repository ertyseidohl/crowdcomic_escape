!function(a){a.importArea=function(a,o,s,e){microAjax("./js/areas/"+o+"/data.json",function(r){r=JSON.parse(r);var n,c,t;if(r.background&&(n=document.createElement("canvas"),canvg(n,"./js/areas/"+o+"/"+r.background)),r.doors)for(c=r.doors,i=0;i<c.length;i++)a.create(GameDoor,{sensor:{pos:{x:c[i][0][0]+s.x,y:c[i][0][1]+s.y},size:{x:c[i][0][2]+s.x,y:c[i][0][3]+s.y}},door:{pos:{x:c[i][0][4]+s.x,y:c[i][0][5]+s.y},size:{x:c[i][0][6]+s.x,y:c[i][0][7]+s.y}},orientation:c[i][1],locked:c[i][2]});if(r.collisionBoxes)for(t=r.collisionBoxes,i=0;i<t.length;i++)a.create(GameCollisionBox,{pos:{x:t[i][0]+s.x,y:t[i][1]+s.y},size:{x:t[i][2]+s.x,y:t[i][3]+s.y}});if(r.osacians)for(i=0;i<r.osacians.length;i++)a.create(Osacian,{pos:{x:r.osacians[i][0]+s.x,y:r.osacians[i][1]+s.y},team:r.osacians[i][2]});if(r.areas)for(i=0;i<r.areas.length;i++)a.create(GameOptionBox,{pos:{x:r.areas[i][0]+s.x,y:r.areas[i][1]+s.y},size:{x:r.areas[i][2]+s.x,y:r.areas[i][3]+s.y},message:r.areas[i][4].text,callback:r.areas[i][4].callback,HUD:r.areas[i][4].options});e&&e.apply(this,[{bg:n,doors:c,collisionBoxes:t}])})}}(this);